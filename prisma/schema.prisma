// This is your Prisma schema file.
// Learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

// Generator block for creating a Prisma client
generator client {
  provider = "prisma-client-js" // Specifies the client generator to use
}

// Datasource block for configuring the database connection
datasource db {
  provider = "mongodb" // Specifies the database provider (MongoDB)
  url      = env("DATABASE_URL") // Uses an environment variable for the database URL
}

// Model definition for the Institute entity
model Institute {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId // Unique identifier, auto-generated ObjectId
  name        String    @unique // Name of the institute
  short_name  String    @unique // Short name of the institute
  description String    // Description of the institute
  order_no    Int       @unique // Order number for sorting
  courses     Course[]  @relation("InstituteCourses") // Relationship with courses
}

// Model definition for the Course entity
model Course {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId // Unique identifier, auto-generated ObjectId
  name        String    @unique // Title of the course
  short_name  String    @unique // Short name of the Course
  description String    // Description of the course
  order_no    Int       @unique // Order number for sorting
  instituteId String    @map("institute_id") // Foreign key for the Institute
  institute   Institute @relation("InstituteCourses", fields: [instituteId], references: [id]) // Relationship to the Institute
}